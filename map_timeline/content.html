<!doctype html>
<html>
<head>
<script src="resources/jQueryAssets/jquery-1.8.3.min.js" type="text/javascript"></script>
<meta charset="utf-8">
<title>Untitled Document</title>
<style type="text/css">
th {
text-align:left;
vertical-align: top;
}
body p {
	font-family: Arial;
}
</style>
</head>

<body>
	<div style="width: 880px; height: 580px; background-color: white">
		<div style="width: 800px; height: 500px; background-color: white">
			<div style="width: 350px; height: 500px; float: left; background-color: white">
				<img id="item_image" style="max-height: 480px;max-width: 330px; display:block; margin: auto; margin-top: 10px" />
			</div>
			<div id="item_title" style="width: 450px; height:40px; float: left; text-align: center; font-weight: bold; font-size: 18px"></div>
			<div style="width: 450px; height: 150px; float: left;">
			<table>
			<tr>
			<th>Region</th>
			<td id="item_region"></td>
			</tr>
			<tr>
			<th>Date</th>
			<td id="item_date"></td>
			</tr>
			<tr>
			<th>Type</th>
			<td id="item_type"></td>
			</tr>
			<tr>
			<th>Materials</th>
			<td id="item_mtr"></td>
			</tr>
			<tr>
			<th>Weight</th>
			<td id="item_wght"></td>
			</tr>
			

			</table>
				
			</div>
			<div style="width: 450px; height: 250px; float: left; font-size: 16px; overflow-y: auto;overflow-x:hidden">
				<div id="item_label" style="height:250px; width: 450px; margin: 10px; font-size: 16px;"></div>
			</div>
		</div>
	</div>
	
	<script>
		function getDataFromAccessNumber(Accession_number, tagname) {
			if (window.XMLHttpRequest) {
				// code for IE7+, Firefox, Chrome, Opera, Safari
				xmlhttp = new XMLHttpRequest();
			} else {
				// code for IE6, IE5
				xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
			}
			xmlhttp.open("GET", "contents/extended_label.xml", false);
			xmlhttp.send();
			xmlDoc = xmlhttp.responseXML;
			var x = xmlDoc.getElementsByTagName("object");
			for (i = 0; i < x.length; i++) {
				var idNum = x[i].getElementsByTagName("Id")[0].childNodes[0].nodeValue;
				if (idNum === Accession_number) {
					var toreturn = x[i].getElementsByTagName(tagname)[0].childNodes[0].nodeValue;
					return x[i].getElementsByTagName(tagname)[0].childNodes[0].nodeValue;
				}
			}
			return false;
		}
	</script>

	<script>
		var url = location.toString();
		var index = url.substring(url.indexOf("=") + 1);
		var newimg = "contents/object_images/" + getDataFromAccessNumber(index, "Picture");
		var newtxt = getDataFromAccessNumber(index, "Extended_label");
		document.getElementById("item_image").setAttribute("src", newimg);
		document.getElementById("item_label").innerHTML = newtxt;
		
		var newttl = getDataFromAccessNumber(index, "Title");
		document.getElementById("item_title").innerHTML = newttl;
		
		var newreg = getDataFromAccessNumber(index, "Region");
		document.getElementById("item_region").innerHTML = newreg;
		
		var newdate = getDataFromAccessNumber(index, "Date");
		document.getElementById("item_date").innerHTML = newdate;
		
		var newtype = getDataFromAccessNumber(index, "Artifact_type");
		document.getElementById("item_type").innerHTML = newtype;
		
		var newmtr = getDataFromAccessNumber(index, "Materials");
		document.getElementById("item_mtr").innerHTML = newmtr;
		
		var newwght = getDataFromAccessNumber(index, "Weight");
		document.getElementById("item_wght").innerHTML = newwght;
		//alert(url);
	</script>


</body>
</html>
