<!doctype html>
<html>
<head>
<script src="resources/jQueryAssets/jquery-1.8.3.min.js"
	type="text/javascript"></script>
<script
	src="resources/jQueryAssets/jquery-ui-1.9.2.slider.custom.min.js"
	type="text/javascript"></script>
<meta charset="utf-8">
<title>Untitled Document</title>
<style type="text/css">
body p {
	font-family: Arial;
}
</style>
</head>

<body>
	<div style="width: 500px; height: 300px; background-color: black; padding: 10px">
		<div style="width: 100%; height: 100%; background-color: white">
			<div style="width: 60%; height: 100%; float: left">
				<img id="item_image" style="height: 100%" />
			</div>
			<div style="width: 40%; height: 100%; float: right">
				<div id="item_label" style="width: 100%; margin: 10px"></div>
			</div>
		</div>
	</div>
	
	<script>
		function getDataFromAccessNumber(Accession_number, tagname) {
			if (window.XMLHttpRequest) {
				// code for IE7+, Firefox, Chrome, Opera, Safari
				xmlhttp = new XMLHttpRequest();
			} else {
				// code for IE6, IE5
				xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
			}
			xmlhttp.open("GET", "contents/extended_label.xml", false);
			xmlhttp.send();
			xmlDoc = xmlhttp.responseXML;
			var x = xmlDoc.getElementsByTagName("object");
			for (i = 0; i < x.length; i++) {
				var accession_number = x[i]
						.getElementsByTagName("Accession_number")[0].childNodes[0].nodeValue;
				if (accession_number === Accession_number) {
					return x[i].getElementsByTagName(tagname)[0].childNodes[0].nodeValue;
				}
			}
			return false;
		}
	</script>

	<script>
		var url = location.toString();
		var index = url.substring(url.indexOf("=") + 1);
		var newimg = "contents/object_images/" + getDataFromAccessNumber(index, "Picture");
		var newtxt = getDataFromAccessNumber(index, "Extended_label");
		$("#item_image").attr("src", newimg);
		document.getElementById("item_label").innerHTML = newtxt;
		//alert(url);
	</script>


</body>
</html>
