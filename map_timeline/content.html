<!doctype html>
<html>
<head>
<script src="resources/jQueryAssets/jquery-1.8.3.min.js" type="text/javascript"></script>
<meta charset="utf-8">
<title>Untitled Document</title>
<style type="text/css">
body p {
	font-family: Arial;
}
</style>
</head>

<body>
	<div style="width: 480px; height: 280px; background-color: white">
		<div style="width: 500px; height: 300px; background-color: white">
			<div style="width: 250px; height: 300px; float: left; background-color: white">
				<img id="item_image" style="max-height: 280px;width: 230px; margin: 10px" />
			</div>
			<div style="width: 250px; height: 260px; float: left; overflow-y: auto;overflow-x:hidden">
				<div id="item_label" style="height:250px; width: 200px; margin: 10px;"></div>
			</div>
		</div>
	</div>
	
	<script>
		function getDataFromAccessNumber(Accession_number, tagname) {
			if (window.XMLHttpRequest) {
				// code for IE7+, Firefox, Chrome, Opera, Safari
				xmlhttp = new XMLHttpRequest();
			} else {
				// code for IE6, IE5
				xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
			}
			xmlhttp.open("GET", "contents/extended_label.xml", false);
			xmlhttp.send();
			xmlDoc = xmlhttp.responseXML;
			var x = xmlDoc.getElementsByTagName("object");
			for (i = 0; i < x.length; i++) {
				var idNum = x[i].getElementsByTagName("Id")[0].childNodes[0].nodeValue;
				if (idNum === Accession_number) {
					var toreturn = x[i].getElementsByTagName(tagname)[0].childNodes[0].nodeValue;
					return x[i].getElementsByTagName(tagname)[0].childNodes[0].nodeValue;
				}
			}
			return false;
		}
	</script>

	<script>
		var url = location.toString();
		var index = url.substring(url.indexOf("=") + 1);
		var newimg = "contents/object_images/" + getDataFromAccessNumber(index, "Picture");
		var newtxt = getDataFromAccessNumber(index, "Extended_label");
		document.getElementById("item_image").setAttribute("src", newimg);
		document.getElementById("item_label").innerHTML = newtxt;
		//alert(url);
	</script>


</body>
</html>
