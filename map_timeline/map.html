<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">

<link href="resources/jQueryAssets/jquery.ui.core.min.css"
	rel="stylesheet" type="text/css">
<link href="resources/jQueryAssets/jquery.ui.theme.min.css"
	rel="stylesheet" type="text/css">
<link href="resources/jQueryAssets/jquery.ui.slider.min.css"
	rel="stylesheet" type="text/css">
<link href="resources/colorbox.css" rel="stylesheet" type="text/css" />
<link href="resources/jvectormap/jquery-jvectormap-1.2.2.css"
	rel="stylesheet" type="text/css" media="screen" />
<link href="resources/map_timeline.css" rel="stylesheet" type="text/css" />
<script src="resources/jQueryAssets/jquery-1.8.3.min.js"
	type="text/javascript"></script>
<script
	src="resources/jQueryAssets/jquery-ui-1.9.2.slider.custom.min.js"
	type="text/javascript"></script>
<script src="resources/colorbox/jquery.colorbox.js"
	type="text/javascript"></script>
<script src="resources/jquery.ui.touch-punch/touch-punch.min.js"
	type="text/javascript"></script>
<script src="resources/hammer/hammer.js" type="text/javascript"></script>
<script src="resources/jvectormap/jquery-jvectormap-1.2.2.min.js"></script>
<script src="resources/jvectormap/jquery-jvectormap-world-mill-en.js"></script>
<script src="contents/country-data.js"></script>
<script src="resources/map_timeline.js" type="text/javascript"></script>
<title>Map</title>
<style type="text/css">
.jvectormap-region {
	stroke: #000000;
	stroke-width: 0.2px;
}
</style>
</head>

<body>
	<div id="page" class="page_all">
		<div id="content" style="width: 990px; height: 630px; padding: 10px">
			<div id="mapbox"
				style="width: 990px; height: 580px; overflow: hidden; position: relative; background-color: #ffffff">
				<div id="world-map"
					style="width: 2160px; height: 1280px; position: absolute; top: -230px; right: -260px">
				</div>

				<script>
					function generateListsOfIds() {
						var objectArray = getObjectListFromXML();
						var listofid = new Array();
						for (i = 0; i < objectArray.length; i++) {
							listofid[i] = objectArray[i]
									.getElementsByTagName("Id")[0].childNodes[0].nodeValue;
						}
						return listofid;
					}
				</script>

				<script>
					var Id;
					Id = generateListsOfIds();
					var markers = [];
					var i = 0;
					var len = Id.length;

					for (; i < len;i = i + 1) {
						markers.push({
							latLng : [ getDataFromAccessNumber(Id[i], 'lat'),
									getDataFromAccessNumber(Id[i], 'Lng') ],
							name : Id[i]
						});
					}
					
					$(function() {
						$('#world-map').vectorMap({
								map : 'world_mill_en',
								series : {
									regions : [ {
										values : countryData,
										scale : [ '#989898', '#585858' ],
										normalizeFunction : 'polynomial'
									} ]
								},
								onLabelShow : function(e, el, code) {
									el.html(el.html() + ' (country - '
											+ countryData[code] + ')');
								},
								scaleColors : [ '#C8EEFF', '#0071A4' ],
								normalizeFunction : 'polynomial',
								hoverOpacity : 0.7,
								hoverColor : false,
								markerStyle : {
									initial : {
										fill : '#F8E23B',
										stroke : '#383f47',
										r : "8"
									}
								},
								regionStyle : {
									initial : {
										fill : '#C0C0C0',
										stroke : '#383f47'
									}
								},
								backgroundColor : '#FFFFFF',
								markers : markers,
								onMarkerOver : function(events, index) {
									var item_id = markers[index].name;
									submitId(item_id);
								},
								onMarkerClick : function(events, index) {
									var item_id = markers[index].name;
									submitId(item_id);
								},
							});
					});
				</script>
			</div>
		</div>

		<!-- DO NOT TOUCH ANYTHING IN THIS DIV -->
		<div id="menu" style="width: 98%; height: 13%; padding: 0% 1% 2% 1%">
			<div id="page_name" style="width: 100%; height: 100%">
				<img src="resources/images/map.png" alt="map" class="menu_image" style="float: left" /> 
				<a href="help.html" class="help_page"> 
				<img src="resources/images/help.png" alt="help page" class="menu_image" /> </a>
				<a href="timeline.html"> 
				<img src="resources/images/timeline.png" alt="timeline page" class="menu_image" /> </a>
				<a href="home.html"> 
				<img src="resources/images/home.png" alt="home page" class="menu_image" /> </a>
			</div>

		</div>

	</div>



	<script>
		jQuery('a.help_page').colorbox({
			initialHeight : 540,
			initialWidth : 540,
			innerHeight : 540,
			innerWidth : 540,
			top : 60,
			left : 240
		});
	</script>
</body>
</html>
