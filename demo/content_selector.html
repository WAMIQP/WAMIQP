<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<link href="resources/jQueryAssets/jquery.ui.core.min.css" rel="stylesheet" type="text/css">
<link href="resources/jQueryAssets/jquery.ui.theme.min.css" rel="stylesheet" type="text/css">
<link href="resources/jQueryAssets/jquery.ui.slider.min.css" rel="stylesheet" type="text/css">
<link href="resources/colorbox.css" rel="stylesheet" type="text/css" />
<script src="resources/jQueryAssets/jquery-1.8.3.min.js" type="text/javascript"></script>
<script src="resources/colorbox/jquery.colorbox.js" type="text/javascript"></script>
<script src="resources/map_timeline.js" type="text/javascript"></script>
<link href="resources/map_timeline.css" rel="stylesheet" type="text/css" />
<meta charset="utf-8">
<title>Content Selector</title>
</head>
<style type="text/css">
.thumbnail {
	max-width: 100px;
	max-height: 100px;
	float:left;
}

.picture_div {
	width: 100px;
	height: 100px;
	float: left;
	display: block;
}
</style>
<body>
	<div id="content_div" style="background-color: blue">
		<script>
			var url = location.toString();
			var countryCode = url.substring(url.indexOf("=") + 1);
			var objectList = getObjectListFromXML();
			var wantedObject = new Array();
			var i = 0;
			for (; i < objectList.length; i = i + 1) {
				var objectCC = objectList[i].getElementsByTagName("country")[0].childNodes[0].nodeValue;
				if (objectCC === countryCode) {
					wantedObject.push(objectList[i]);
				}
			}
			var len = wantedObject.length;
			if (len == 0) {
				document.write("There is no object in " + countryCode);
			} else if (len == 1) {
				var ID = wantedObject[0].getElementsByTagName("Id")[0].childNodes[0].nodeValue;
				submitId(ID);
			} else {
				for (i = 0; i < wantedObject.length; i++) {
					var idNum = wantedObject[i].getElementsByTagName("Id")[0].childNodes[0].nodeValue;
					var picname = wantedObject[i].getElementsByTagName("Picture")[0].childNodes[0].nodeValue;
					document.write("<div class=\"picture_border\" onclick=\"submitId("+ idNum + ")\">");
					document.write("<img src=\"contents\\object_images\\"+ picname);
					document.write("\" class=\"thumbnail\"/> </div>");
				}
				var content_div = document.getElementById("content_div");
				var wanted_width = 100 + wantedObject.length * 100;
				var wanted_height = 100 + 50;
				var wanted_left = 0.5 * (1010 - wanted_width);
				var wanted_top = 0.5 * (750 - wanted_height);
				wanted_left = 0;
				wanted_top = 0;
				$(content_div).css('width', wanted_width);
				$(content_div).css('height', wanted_height);
				parent.$.colorbox.resize({
					top: wanted_top,
					left: wanted_left,
					width : wanted_width,
					height : wanted_height,
				});
				
				parent.$.colorbox.css("left",wanted_left);
			}
		</script>

	</div>


</body>
</html>
